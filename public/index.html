<!DOCTYPE html>
<html ng-app="jismeApp" ng-cloak>
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width">
		
		<title>Jisme</title>

		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic" rel="stylesheet">
		<link href="./assets/css/toolkit-inverse.css" rel="stylesheet">
		<link href="./assets/css/application.css" rel="stylesheet">
	</head>
	<body>
		<div class="bw" ng-controller="AccountsCtrl">
			<div class="di">   
				<div class="em brh">
					<nav class="bro">
						<div class="bri">
							<button class="bqe bqg brj" type="button" data-toggle="collapse" data-target="#nav-toggleable-md">
								<span class="aep">Toggle nav</span>
							</button>
							<a class="brk bsi" href="#">
								<span class="bv bik brl">Jisme</span>
							</a>
						</div>

						<div class="collapse bql" id="nav-toggleable-md">
							<form class="brm" ng-show="user">
								<input class="form-control" type="text" ng-model="query" ng-change="search()" id="search" placeholder="Search..." />
								<button type="submit" class="po">
									<span class="bv bje"></span>
								</button>
							</form>

							<ul class="nav qq nav-stacked xx" ng-hide="user" ng-controller="AuthCtrl">
								<li class="qp">
									<button type="submit" class="ce tb" ng-click="signIn()">Sign in with Google</button>
								</li>
							</ul>

							<ul class="nav qq nav-stacked xx" ng-show="user">
								<li class="ayx">Categories</li>
								<li class="qp">
									<a href="" ng-click="filterCategory('All')" class="qn active">
										All
									</a>
								</li>
								
								<li class="qp" ng-repeat="account in accounts | distinctCategories | orderObjectBy:'category':false">
									<a href="#" ng-click="filterCategory(account.category)" class="qn" ng-bind="account.category"></a>
								</li>

								<li class="ayx"></li>
								<li class="qp" ng-controller="AuthCtrl">
									<button type="submit" class="ce tb" ng-click="signOut()">Sign out</button>
								</li>

							</ul>
							<hr class="bsj afx">
						</div>
					</nav>
				</div>
				
				<div class="es bsk" ng-show="user">
					<div class="brv">
						<div class="brw">
							<h6 class="bry">Accounts</h6>
							<h2 class="brx" ng-bind="currentCategory"></h2>
						</div>

						<div class="qb brz">
							<div class="ayt brg">
								<input type="text" ng-model="currentDate" ng-change="filterDate()" class="form-control" data-provide="datepicker">
								<span class="bv bck"></span>
							</div>
						</div>
					</div>

					<div class="nu">
						<table class="ck">
							<thead>
								<tr>
									<th>Category</th>
									<th>Platform</th>
									<th>Login</th>
									<th>Password</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<input class="account form-control" ng-model="new_category" placeholder="Category" />
									</td>
									<td>
										<input class="account form-control" ng-model="new_platform" placeholder="Plateform" />
									</td>
									<td>
										<input class="account form-control" ng-model="new_user" placeholder="Login" />
									</td>
									<td>
										<input class="account form-control" ng-model="new_password" placeholder="Password" />
									</td>
									<td>
										<a href="" ng-click="add()" class="ce pi ahr">+</a>
									</td>
								</tr>
								<tr class="row account-row" ng-repeat="account in accounts | orderObjectBy:'platform':false | orderObjectBy:'category':false">
									<td>
										<input class="account created_date" ng-model="account.created_date" style="display:none" />
										<input class="account category" ng-model="account.category" ng-change="save(account)" />
									</td>
									<td>
										<input class="account" ng-model="account.platform" ng-change="save(account)" />
									</td>
									<td>
										<input class="account" ng-model="account.user" ng-change="save(account)" />
									</td>
									<td>
										<input class="account password" ng-model="account.password" ng-change="save(account)" />
									</td>
									<td>
										<a href="" ng-click="delete(account)" class="ce pi ahr">x</a>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>

			</div>
		</div>

		<script src="./assets/js/jquery.min.js"></script>
		<script src="./assets/js/tether.min.js"></script>
		<script src="./assets/js/toolkit.js"></script>
		
		<!-- Firebase -->
		<script src="https://www.gstatic.com/firebasejs/3.6.6/firebase.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.6/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.6/firebase-auth.js"></script>
		<script src="https://www.gstatic.com/firebasejs/3.6.6/firebase-database.js"></script>
		
		<!-- AngularJS -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular.min.js"></script>

		<!-- AngularFire -->
		<script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
		
		<script src="./assets/js/config.js"></script>

		<script src="./assets/js/application.js"></script>

	</body>
</html>
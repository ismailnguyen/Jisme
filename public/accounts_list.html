<div class="di">   
    <div class="em brh">
        <nav class="bro">
            <div class="bri">
                <button class="bqe bqg brj" type="button" data-toggle="collapse" data-target="#nav-collapse">
                    <span class="aep">Toggle nav</span>
                </button>
                <a class="brk bsi" href="./">
                    <span class="bv bik brl">Jisme</span>
                </a>
            </div>

            <form class="brm">
                <input class="form-control" type="text" ng-model="query" id="search" placeholder="Search..." />
                <button class="po">
                    <span class="bv bje"></span>
                </button>
            </form>

            <div class="collapse bql" id="nav-collapse">                    
                
                <ul class="nav qq nav-stacked xx">
                    <li class="ayx">Tags</li>

                    <li class="qp">
                        <a href="" ng-click="updateCurrentTag()" class="qn ng-class:{'active' : currentTag=='All'}">
                            All
                        </a>
                    </li>
                    
                    <li class="qp" ng-repeat="tag in accounts | distinctTags | orderObject:false">
                        <a href="" ng-click="updateCurrentTag(tag)" class="qn ng-class:{'active' : currentTag==tag}">{{tag}}</a>
                    </li>

                    <li class="ayx">
                        <hr class="bsj afx">
                    </li>
                    
                    <li class="qp">
                        <button class="ce tb" ng-click="signOut()">Sign out</button>
                    </li>

                </ul>
                
            </div>
        </nav>
    </div>
    
    <div class="es bsk" ng-show="user">

        <button ng-click="addAccount = !addAccount" ng-show="!addAccount" class="ce pb ahr floating-btn">New</button>
        <button ng-click="closeAddAccount()" ng-show="addAccount" class="ce tb ahr floating-btn">Cancel</button>

        <div class="brv">
            <div class="brw">
                <h6 class="bry">{{user.email}}</h6>
                <h2 class="brx">{{currentTag}}</h2>
            </div>

            <div class="qb brz">
                <div class="ayt brg">
                    <input type="text" id="date" ng-model="currentDate" class="form-control" data-provide="datepicker">
                    <span class="bv bck"></span>
                </div>
            </div>
        </div>

        <div class="nu">

            <table class="ck">
                    
                <tr>
                    <td class="add-account" ng-show="addAccount" colspan="4">
                        <span>{{displayPlatform()}}</span>
                        <input class="new-account account" ng-model="new_platform" type="text" placeholder="Platform" />
                        <input class="new-account account" ng-model="new_login" type="text" placeholder="Login" />
                        <input class="new-account account" ng-model="new_password" type="text" placeholder="Password (double-click to generate password)" ng-dblclick="generatePassword()" />
                        <input class="new-account account" ng-model="new_tags" type="text" placeholder="Tags (separated with comma)" />
                        
                        <button ng-click="add()" class="ce pi ahr">Add</button>
                    </td>
                </tr>
            
                <tr>
                    <th>Platform</th>
                    <th>Login</th>
                    <th>Action</th>
                </tr>

                <tbody class="row account-row" ng-repeat="account in accounts | formatPlatform | orderObjectBy:'platform':false | orderObjectBy:'tags':false | filterByQuery:query | filterByTag:currentTag | filterByDate:currentDate">
                    <tr>
                        <td ng-click="showDetails = !showDetails">
                            <input class="account created_date" ng-model="account.created_date" style="display:none" />
                            <input class="account tag" ng-model="account.tags" ng-change="save(account)" />
                            <input class="account platform" ng-model="account.displayPlatform" disabled />
                        </td>
                        <td>
                            <input class="account" ng-model="account.login" ng-change="save(account)" ng-copyable />
                        </td>
                        <td>
                            <a href="" ng-click="showDetails = !showDetails" class="ce pi ahr">{{ showDetails ? 'Close' : 'Details' }}</a>
                        </td>
                    </tr>
                    <tr>
                        <td class="account-details" ng-show="showDetails" colspan="4">
                            Platform
                            <input class="account account-detail" ng-model="account.platform" ng-change="save(account)" ng-copyable />

                            Password
                            <input class="account account-detail" type="password" ng-model="account.password" ng-show="!showPassword" ng-click="showPassword = !showPassword" />
                            <input class="account account-detail" ng-model="account.password" ng-change="save(account)" ng-show="showPassword" ng-click="showPassword = !showPassword" />
                            
                            Tags 
                            <input class="account account-detail" ng-model="account.tags" ng-change="save(account)" />

                            Date
                            <input class="account account-detail" ng-model="account.created_date" disabled />
                            
                            <button type="submit" class="ce tb" ng-click="delete(account)">Delete</button>
                        </td>
                    </tr>
                </tbody>

            </table>

            <hr class="bsj afx">
            
            &copy; 2017 Jisme
        
        </div>
    </div>
</div>